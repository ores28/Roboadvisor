{% extends 'base.html' %} {% block head %}
<title>Robo-Advisor Form</title>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap"
/>
<script>
  function validateForm() {
    let income =
      parseFloat(document.getElementById("income_per_month").value) || 0;
    let rent = parseFloat(document.getElementById("rent_per_month").value) || 0;
    let loan =
      parseFloat(document.getElementById("loan_repayment_per_month").value) ||
      0;
    let insurance =
      parseFloat(document.getElementById("insurance_premium").value) || 0;
    let healthcare =
      parseFloat(document.getElementById("healthcare_cost_per_month").value) ||
      0;
    let education =
      parseFloat(document.getElementById("education_cost_per_month").value) ||
      0;
    let desiredSaving =
      parseFloat(document.getElementById("desired_saving_per_month").value) ||
      0;

    let totalExpenses = rent + loan + insurance + healthcare + education;
    let remainingIncome = income - totalExpenses;

    if (totalExpenses >= income) {
      alert(
        "Your total expenses exceed your monthly income. Please adjust your budget."
      );
      return false;
    }
    if (desiredSaving <= remainingIncome) {
      alert(
        "Your desired savings is already reached with your current budget."
      );
      return false;
    }
    return true;
  }
</script>
{% endblock %} {% block body %}
<div class="container">
  <h3>
    Fill out the form below to get your personalized investment portfolio.
  </h3>
  <div class="card">
    <form action="/" method="POST" onsubmit="return validateForm()">
      <div class="question">
        <label for="occupation">Enter your occupation:</label>
        <select name="occupation" id="occupation" required>
          <option value="Self Employed">Self Employed</option>
          <option value="Retired">Retired/Unemployed</option>
          <option value="Professional">Professional</option>
          <option value="Student">Student</option>
        </select>
      </div>

      <div class="question">
        <label for="income_per_month">Enter your income per month:</label>
        <input
          type="number"
          name="income_per_month"
          id="income_per_month"
          step="any"
          required
          min = "0"
        />
      </div>

      <div class="question">
        <label for="age">Enter your age:</label>
        <input type="number" min = "18" name="age" id="age" required />
      </div>

      <div class="question">
        <label for="no_of_dependents">Enter the number of dependents:</label>
        <select name="no_of_dependents" id="no_of_dependents" required>
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4+">4 and more</option>
        </select>
      </div>

      <div class="question">
        <label for="rent_per_month">Enter your rent per month:</label>
        <input
          type="number"
          name="rent_per_month"
          id="rent_per_month"
          step="any"
          min = "0"
          required
        />
      </div>

      <div class="question">
        <label for="loan_repayment_per_month"
          >Enter your loan repayment per month:</label
        >
        <input
          type="number"
          name="loan_repayment_per_month"
          id="loan_repayment_per_month"
          step="any"
          min="0"
          required
        />
      </div>

      <div class="question">
        <label for="insurance_premium"
          >Enter your insurance premium amount:</label
        >
        <input
          type="number"
          name="insurance_premium"
          id="insurance_premium"
          step="any"
          min = "0"
          required
        />
      </div>

      <div class="question">
        <label for="healthcare_cost_per_month"
          >Enter your healthcare cost per month:</label
        >
        <input
          type="number"
          name="healthcare_cost_per_month"
          id="healthcare_cost_per_month"
          step="any"
          min = "0"
          required
        />
      </div>

      <div class="question">
        <label for="education_cost_per_month"
          >Enter your education cost per month:</label
        >
        <input
          type="number"
          name="education_cost_per_month"
          id="education_cost_per_month"
          step="any"
          min = "0"
          required
        />
      </div>

      <div class="question">
        <label for="desired_saving_per_month"
          >Enter your desired savings per month:</label
        >
        <input
          type="number"
          name="desired_saving_per_month"
          id="desired_saving_per_month"
          step="any"
          min = "0"
          required
        />
      </div>

      <button type="submit">Submit</button>
    </form>
  </div>
</div>
{% endblock %}
